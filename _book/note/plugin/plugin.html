
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Plugin · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../devServer/devServer.html" />
    
    
    <link rel="prev" href="../loader/Loader.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Concepts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../entry/Entry.html">
            
                <a href="../entry/Entry.html">
            
                    
                    Entry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../output/Output.html">
            
                <a href="../output/Output.html">
            
                    
                    Output
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../loader/Loader.html">
            
                <a href="../loader/Loader.html">
            
                    
                    Loader
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5" data-path="plugin.html">
            
                <a href="plugin.html">
            
                    
                    Plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../devServer/devServer.html">
            
                <a href="../devServer/devServer.html">
            
                    
                    DevServer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../SourceMap/sourcemap.html">
            
                <a href="../SourceMap/sourcemap.html">
            
                    
                    SourceMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../babel/babel.html">
            
                <a href="../babel/babel.html">
            
                    
                    Babel配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../hotModuleRepalacement/HMR.html">
            
                <a href="../hotModuleRepalacement/HMR.html">
            
                    
                    HotModuleReplacement
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Plugin</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="plugins">Plugins</h2>
<p>While loaders are used to transform certain types of modules,plugins can be leveraged(&#x65BD;&#x52A0;&#x5F71;&#x54CD;) to perform a wider range of task like bundle optimization(&#x6700;&#x4F73;&#x7684;),asset(n.&#x8D44;&#x4EA7;;&#x4F18;&#x70B9;;&#x6709;&#x7528;&#x7684;&#x4E1C;&#x897F;;&#x6709;&#x5229;&#x6761;&#x4EF6;) management and injection of environment variables.
&#x968F;&#x7740;loader&#x88AB;&#x4F7F;&#x7528;&#x53BB;&#x8F6C;&#x53D8;&#x5305;&#x542B;&#x7684;&#x6A21;&#x5757;&#x7C7B;&#x578B;&#xFF0C;&#x63D2;&#x4EF6;&#x80FD;&#x5F71;&#x54CD;&#x5E94;&#x7528;&#x53BB;&#x6267;&#x884C;&#x50CF;&#x6700;&#x4F73;&#x6253;&#x5305;&#x5E7F;&#x6CDB;&#x7684;&#x4EFB;&#x52A1;,&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x548C;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x6CE8;&#x5165;&#x3002;</p>
<blockquote>
<p>Check out the plugin interface and how to use it to extends(vt&amp;vi&#x5EF6;&#x4F38;&#xFF1B;&#x6269;&#x5927;) webpack&apos;s capabilities(n.&#x6027;&#x80FD;,&#x529F;&#x80FD;,&#x80FD;&#x529B;)
In order to use a plugin, you need to require() it adn add it to the plugins array.Most plugins are customizable(adj.&#x53EF;&#x5B9A;&#x5236;&#x7684;) through options.Since you can use a plugin multiple times in for different purposes(n.&#x76EE;&#x7684;;&#x610F;&#x5FD7;v.&#x6253;&#x7B97;;&#x4F01;&#x56FE;), you need to create an instance of it by calling it with the new operator.</p>
<pre><code class="lang-js">modules.exports = {
    modules:{
        rules:[
            {test:<span class="hljs-regexp">/\.txt$/</span>,use:<span class="hljs-string">&apos;raw-loader&apos;</span>}
        ]
    },
    plugins:[
        <span class="hljs-keyword">new</span> HtmlWebpackPlugin({template:<span class="hljs-string">&apos;./src/index.html&apos;</span>})
    ]
}
</code></pre>
<p>In the example above,the html-webpack-plugin generates an HTM file for your application by injecting automatically all your generated bundles.
There are many plugins that webpack provides out of the box!Check out the list of plugin.
Using plugins in your webpack config is straightforward(adj.&#x7B80;&#x5355;&#x7684;;&#x5766;&#x7387;&#x7684;;&#x660E;&#x786E;&#x7684;;adv.&#x76F4;&#x622A;&#x4E86;&#x5F53;&#x5730;;&#x5766;&#x7387;&#x5730;).However,there are many use cases that are worth further exploration.Learn more about them here.</p>
<h2 id="plugin">plugin</h2>
<p>htmlWebpackPlugin &#x4F1A;&#x5728;&#x6253;&#x5305;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x4E00;&#x4E2A;html&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x628A;&#x6253;&#x5305;&#x751F;&#x6210;&#x7684;js&#x81EA;&#x52A8;&#x5F15;&#x5165;&#x5230;&#x8FD9;&#x4E2A;html&#x6587;&#x4EF6;&#x4E2D;&#x3002;</p>
<h2 id="cleanwebpackplugin">cleanwebpackplugin</h2>
<p>&#x4F1A;&#x5E2E;&#x52A9;&#x5728;&#x6253;&#x5305;&#x7684;&#x65F6;&#x5019;&#x5148;&#x8BF7;&#x5BA2;dist&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x7136;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x6253;&#x5305;
npm i clean-webpack-plugin
new CleanWebpackPlugin([&apos;dist&apos;]
&#x4F1A;&#x5728;&#x6253;&#x5305;&#x4E4B;&#x524D;&#x88AB;&#x8FD0;&#x884C;&#x6E05;&#x7A7A;dist&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6587;&#x4EF6;</p>
<h2 id="plugin&#x914D;&#x7F6E;&#x65B9;&#x6CD5;">plugin&#x914D;&#x7F6E;&#x65B9;&#x6CD5;</h2>
<pre><code class="lang-js">    plugins:[<span class="hljs-keyword">new</span> HtmlWebpackPlugin({
        template:<span class="hljs-string">&quot;src/index.html&quot;</span>
    }),<span class="hljs-keyword">new</span> CleanWebpackPlugin([<span class="hljs-string">&apos;dist&apos;</span>])]
</code></pre>
</blockquote>
<h2 id="&#x5E38;&#x7528;&#x6A21;&#x5757;">&#x5E38;&#x7528;&#x6A21;&#x5757;</h2>
<p>CommonsChunkPlugin&#x5DF2;&#x7ECF;&#x5E9F;&#x5F03;&#x5728;webpack4
splitChunks: &#x81EA;&#x52A8;&#x8FDB;&#x884C;&#x6A21;&#x5757;&#x5206;&#x5272;</p>
<ul>
<li>new chunk &#x53EF;&#x4EE5;&#x88AB;&#x5206;&#x4EAB;&#x548C;&#x6A21;&#x5757;&#x662F;&#x6765;&#x81EA; node_modules&#x6587;&#x4EF6;&#x52A0;</li>
<li>new chunk &#x5C06;&#x5927;&#x4E8E;30kb(&#x5728;&#x538B;&#x7F29;&#x4E4B;&#x524D;before min+gz)</li>
<li>&#x6700;&#x5927;&#x6570;&#x91CF;&#x7684;&#x5E76;&#x884C;&#x8BF7;&#x6C42;&#x52A0;&#x8F7D;&#x5757;&#x65F6;&#x5BF9;&#x9700;&#x6C42;&#x4F1A;&#x964D;&#x4F4E;&#x6216;&#x7B49;&#x4E8E;5</li>
<li>&#x6700;&#x5927;&#x6570;&#x91CF;&#x7684;&#x5E76;&#x884C;&#x8BF7;&#x6C42;&#x521D;&#x59CB;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x5C06;&#x4F4E;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;
```js
splitChunks: {
  chunk: &quot;async&quot;,
  minSize: 30000, //&#x9ED8;&#x8BA4;&#x6A21;&#x5757;&#x5927;&#x5C0F;
  minChunks: 1, //&#x5728;&#x5206;&#x5272;&#x4E4B;&#x524D;&#x5206;&#x4EAB;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x6700;&#x5C0F;&#x6570;&#x91CF;
  maxAsyncRequests: 5,//&#x5728;&#x5165;&#x53E3;&#x70B9;&#x5E76;&#x884C;&#x8BF7;&#x6C42;&#x7684;&#x6700;&#x5927;&#x6570;&#x91CF;
  maxInitialRequests: 3,// &#x6700;&#x5927;&#x8BF7;&#x6C42;&#x6570;&#x91CF;&#x7684;&#x4E00;&#x4E2A;&#x5165;&#x53E3;&#x70B9;
  automaticNameDelimiter: &apos;~&apos;, //vendors~main.js
  name: true,//&#x63A7;&#x5236;&#x5206;&#x5272;&#x6A21;&#x5757;&#x7684;&#x9009;&#x9879;&#x660E;&#x5403;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;true&#x81EA;&#x52A8;&#x7684;&#x9009;&#x4E00;&#x4E2A;&#x540D;&#x5B57;&#x4F5C;&#x4E3A;key&#xFF0C;&#x5426;&#x5219;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x6216;&#x8005;&#x5B57;&#x7B26;&#x4E32;
  // &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5171;&#x4EAB;&#x6A21;&#x5757;&#xFF0C;&#x5305;&#x62EC;&#x4EE3;&#x7801;&#x5206;&#x4EAB;&#x7684;&#x5165;&#x53E3;&#x70B9;
  cacheGroups: {<pre><code>  verndrs: {
      test: /[\\/]node_modules[\\/]/,
      priority: -10 //&#x7F13;&#x5B58;&#x4F18;&#x5148;&#x7EA7;
  }
</code></pre>  },
  default: {<pre><code>  minChunks: 2,
  priority: -20,
  reuseExistingChunk: true
</code></pre>  }
}</li>
</ul>
<pre><code class="lang-`">```js
  optimization: {
    minimizer: [new optimizeCss({})],
    // &#x63D0;&#x53D6;&#x516C;&#x5171;&#x52A0;&#x8F7D;&#x7684;&#x5757; &#x5176;&#x4ED6;&#x6A21;&#x5757;&#x5185;&#x5BB9;&#x6539;&#x53D8;&#x65F6; &#x516C;&#x5171;&#x52A0;&#x8F7D;&#x6A21;&#x5757;&#x4E0D;&#x7528;&#x6539;&#x53D8; &#x53EF;&#x4EE5;&#x8D77;&#x5230;&#x7F13;&#x5B58;&#x4F5C;&#x7528;
    runtimeChunk: true,
    splitChunks: {
      // &#x8BBE;&#x7F6E;&#x516C;&#x5171;&#x5757;&#x7684;&#x540D;&#x79F0; &#x53EF;&#x4EE5;&#x662F;&#x51FD;&#x6570; || &#x5B57;&#x7B26;&#x4E32;
      // name: &#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x540D;
      name: true,
      minSize: 1,
      // &#x5B9A;&#x4E49;&#x5206;&#x9694;&#x7B26;
      automaticNameDelimiter: &apos;-&apos;,
      cacheGroups: {
        vendors: {
          test: /[\\/]node_modules[\\/]/,
          priority: -3,
          chunks: &quot;initial&quot;,
        },
        common: {
          // &#x63A7;&#x5236;&#x7F13;&#x5B58;&#x7EC4;&#x9009;&#x62E9;&#x7684;&#x6A21;&#x5757; &#x7701;&#x7565;&#x5B83;&#x9009;&#x62E9;&#x6240;&#x6709;&#x6A21;&#x5757;
          test: /[\\/]node_modules[\\/]/,
          priority: -4,
          chunks: &quot;async&quot;,
          minChunks: 2,
          reuseExistingChunk: true,
        },
        reactBase: {
          name: &apos;reactBase&apos;,
          // &#x63A7;&#x5236;&#x6B64;&#x7F13;&#x5B58;&#x7EC4;&#x9009;&#x62E9;&#x7684;&#x6A21;&#x5757; &#x7701;&#x7565;&#x5B83;&#x9009;&#x62E9;&#x6240;&#x6709;&#x6A21;&#x5757;
          // module.context: &#x5F53;&#x524D;&#x6A21;&#x5757;&#x7684;&#x8DEF;&#x5F84;
          test: (module) =&gt; {
            return /[\\/]vue|vue-router|vue-loader[\\/]/.test(module.context);
          },
          chunks: &apos;initial&apos;,
          priority: 10,
        },
        styles: {
          // module: &#x6A21;&#x5757;&#x4FE1;&#x606F; module.context &#x8BE5;&#x6A21;&#x5757;&#x7684;&#x8DEF;&#x5F84;
          // chunk: &#x6253;&#x5305;&#x7684;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x4FE1;&#x606F; chunk.name &#x6587;&#x4EF6;&#x540D;
          name (module, chunk) {
            return `../css/${chunk[0].name}`
          },
          test: /\.css$/,
          chunks: &apos;all&apos;,
          enforce: true
        },
      }
    },
  },
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../loader/Loader.html" class="navigation navigation-prev " aria-label="Previous page: Loader">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../devServer/devServer.html" class="navigation navigation-next " aria-label="Next page: DevServer">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Plugin","level":"1.5","depth":1,"next":{"title":"DevServer","level":"1.6","depth":1,"path":"note/devServer/devServer.md","ref":"note/devServer/devServer.md","articles":[]},"previous":{"title":"Loader","level":"1.4","depth":1,"path":"note/loader/Loader.md","ref":"note/loader/Loader.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"note/plugin/plugin.md","mtime":"2019-12-11T06:51:45.368Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-12-11T11:31:27.390Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

